# é…ç½®å…¨å±€ä»£ç†
mixed-port: 7890
allow-lan: false  # å®‰å…¨å»ºè®®å…³é—­
mode: rule
log-level: info   # ä¾¿äºæ’æŸ¥é—®é¢˜
external-controller: 127.0.0.1:9090  # æœ¬åœ°æ§åˆ¶ç«¯å£

# ä»£ç†èŠ‚ç‚¹é…ç½®
proxies:
  - name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹-H2åè®®"  # ä¸»ç”¨èŠ‚ç‚¹
    type: vless
    server: 45.76.151.163
    port: 8433
    uuid: b7325875-bfe1-489b-b7d9-be5751122311
    network: h2
    tls: true
    servername: www.ebay.com
    reality-opts:
      public-key: lKd-UyuvlJ1ufA9Sjyul3po0uN8ESbMQCaxcYj4mRFY
    client-fingerprint: chrome
    udp: true

  - name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹-TCPåè®®"  # å¤‡ç”¨èŠ‚ç‚¹
    type: vless
    server: 45.76.151.163
    port: 443
    uuid: 77c1cf6a-a5ee-4a4a-96e7-035b8e3c735f
    network: tcp
    tls: true
    flow: xtls-rprx-vision
    servername: www.cloudflare.com
    reality-opts:
      public-key: ljMggWpzFVu77YGm4zWf3dZYEACmZvTQzEeFlGD3zHQ
    client-fingerprint: chrome
    udp: true

# ä»£ç†åˆ†ç»„é…ç½®ï¼ˆåˆå¹¶åçš„éƒ¨åˆ†ï¼‰
proxy-groups:
  - name: "ğŸš€ Proxy"
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
      - "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹-H2åè®®"  # ä¸»ç”¨èŠ‚ç‚¹
      - "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹-TCPåè®®"  # å¤‡ç”¨èŠ‚ç‚¹

  - name: "ğŸ“º Streaming"
    type: select
    proxies:
      - "ğŸš€ Proxy"
      - DIRECT

# è§„åˆ™é…ç½®
rules:
  # ========== æœ€é«˜ä¼˜å…ˆçº§è§„åˆ™ ========== 
  # å¾®ä¿¡æ ¸å¿ƒé˜²æŠ¤ï¼ˆæ–°å¢æ”¯ä»˜å’ŒCDNï¼‰
  - DOMAIN,weixin.qq.com,DIRECT
  - DOMAIN-SUFFIX,wechatpay.com,DIRECT
  - DOMAIN-SUFFIX,tenpay.com,DIRECT
  - DOMAIN-SUFFIX,qq.com,DIRECT
  - DOMAIN-KEYWORD,wechat,DIRECT
  - DOMAIN-SUFFIX,wechatcdn.com,DIRECT
  
  # é‡‘èæ”¯ä»˜ï¼ˆæ–°å¢é“¶è”å’Œæ”¯ä»˜å®å®‰å…¨åŸŸåï¼‰
  - DOMAIN-SUFFIX,alipay.com,DIRECT
  - DOMAIN-SUFFIX,unionpay.com,DIRECT
  - DOMAIN-SUFFIX,icbc.com.cn,DIRECT
  - DOMAIN-SUFFIX,abchina.com,DIRECT

  # ========== å›½å†…å¸¸è§„ç›´è¿ ========== 
  - GEOIP,CN,DIRECT
  - DOMAIN-SUFFIX,cn,DIRECT
  # æ–°å¢æ°‘ç”Ÿç±»åŸŸå
  - DOMAIN-SUFFIX,12306.cn,DIRECT
  - DOMAIN-SUFFIX,95559.com.cn,DIRECT
  # æ–°å¢æ”¿åŠ¡ç±»
  - DOMAIN-SUFFIX,gov.cn,DIRECT
  - DOMAIN-SUFFIX,12345.gov.cn,DIRECT

  # ========== å›½é™…ä»£ç†è§„åˆ™ ========== 
  # æµåª’ä½“æœåŠ¡ï¼ˆæ–°å¢HBOå’ŒApple TVï¼‰
  - DOMAIN-SUFFIX,netflix.com,ğŸ“º Streaming
  - DOMAIN-SUFFIX,disneyplus.com,ğŸ“º Streaming
  - DOMAIN-SUFFIX,hbo.com,ğŸ“º Streaming
  - DOMAIN-SUFFIX,appletv.com,ğŸ“º Streaming
  
  # ç¤¾äº¤å¹³å°ï¼ˆæ–°å¢Telegramå’ŒDiscordï¼‰
  - DOMAIN-SUFFIX,twitter.com,ğŸš€ Proxy
  - DOMAIN-SUFFIX,facebook.com,ğŸš€ Proxy
  - DOMAIN-SUFFIX,t.me,ğŸš€ Proxy
  - DOMAIN-SUFFIX,discord.com,ğŸš€ Proxy

  # å…œåº•è§„åˆ™
  - GEOIP,!CN,ğŸš€ Proxy
  - MATCH,ğŸš€ Proxy

# DNSé˜²æ³„æ¼é…ç½®
dns:
  enable: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 114.114.114.114  # å›½å†…DNSè§£æ
    - 223.5.5.5
  fallback:
    - tls://1.1.1.1:853  # å›½é™…åŸŸåé€šè¿‡ä»£ç†DNSè§£æ
    - tls://8.8.4.4:853
  fallback-filter:
    geoip: true
